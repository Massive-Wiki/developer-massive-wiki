<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nxc_architecture - Developer Wiki (Massive Wiki)</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/developer-massive-wiki/mwb-static/css/style.css">
    <link rel="stylesheet" href="/developer-massive-wiki/mwb-static/css/custom.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.9/lunr.min.js"></script>
    <script src="/developer-massive-wiki/lunr-index-1754859615.187969.js"></script>
    <script>var index = lunr.Index.load(lunr_index)</script>
    
    
    <script src="/developer-massive-wiki/lunr-posts-1754859615.187969.js"></script>
    <script> function randomPageLink() { return "/developer-massive-wiki"+lunr_posts[Math.floor(Math.random() * lunr_posts.length)].link; } </script>
    
  </head>
<body>
  <div id="header">
    <span id="hamburger-btn"
    class="hidden">&#9776;</span><a class="button is-light" id="header-link" href="/developer-massive-wiki/index.html">Developer Wiki (Massive Wiki)</a>
  </div>

  <div class="container" id="flex-container">
    <div id="side-column">
      <div>
        <button id="hide-btn">Hide</button>
        <button id="move-btn" class="hidden">Move to Sidebar</button>
      </div>
      <p>(we are switching to a new theme,<br />
don't worry if things look different for a while!)</p>
<h2>Site Navigation</h2>
<div class="navlinks">
<ul>
<li><a class="wikilink" href="/developer-massive-wiki/nxc-docs/README.html">HOME</a></li>
<li><a href="/developer-massive-wiki/search.html">SEARCH</a></li>
<li><a href="/developer-massive-wiki/all-pages.html">ALL PAGES</a></li>
<li><a href="/developer-massive-wiki/recent-pages.html">RECENT CHANGES</a></li>
</ul>
</div>
<div class="navlinks">
  <button onclick="location.href=`${randomPageLink()}`">
    RANDOM PAGE
  </button>
</div>
<h2>Plans</h2>
<p><a class="wikilink" href="/developer-massive-wiki/Massive_Wiki_Roadmap.html">Massive Wiki Roadmap</a><br />
<a class="wikilink" href="/developer-massive-wiki/Pier2Pier.html">Pier2Pier</a><br />
<a class="wikilink" href="/developer-massive-wiki/Massive_Wiki_Builder_redesign_notes_and_plans.html">Massive Wiki Builder redesign</a></p>
<h2>For Testing</h2>
<p><a class="wikilink" href="/developer-massive-wiki/Link_workbench/testdir/wiki_link_test_page.html">wiki link test page</a><br />
<a class="wikilink" href="/developer-massive-wiki/Mistletoe_parser_test_page.html">Mistletoe parser test page</a><br />
<a class="wikilink" href="/developer-massive-wiki/MWB_upgrade_notes/Mistletoe_&_the_ampersand_story.html">Mistletoe & the ampersand story</a></p>

    </div>

    <div id="main-column">
      
      <div> <!-- edit this page button -->
	<p style="float:right; margin:.5em .5em
	.5em"><a target="_blank" href="https://github.com/Massive-Wiki/developer-massive-wiki/edit/main/nxc-docs/nxc_architecture.md"
	class="edit-this-page-button">Edit on GitHub</a></p>
	<br clear="all">
      </div> <!-- edit this page button -->
      
      <h1>NXC Architecture</h1>
<p>This document provides an overview of the NXC (Massive Wiki Builder) architecture, detailing the core components and their interactions.</p>
<h2>Core Components</h2>
<p>NXC consists of several key components that work together to transform Markdown files into a static website:</p>
<pre><code class="language-mermaid">graph TD
    A[NXC CLI] --&gt; B[Initialization Module]
    A --&gt; C[Build Module]
    C --&gt; D[Markdown Processor]
    D --&gt; E[Mistletoe Renderer]
    E --&gt; F[MassiveWikiRenderer]
    C --&gt; G[Template Engine]
    G --&gt; H[Jinja2]
    C --&gt; I[Search Index Generator]
    I --&gt; J[Lunr.js]
</code></pre>
<h3>1. Command Line Interface (CLI)</h3>
<p>The entry point for user interaction, handling command-line arguments and dispatching to the appropriate functionality:</p>
<ul>
<li>Subcommands: <code>init</code> and <code>build</code></li>
<li>Arguments processing</li>
<li>Configuration validation</li>
</ul>
<h3>2. Initialization Module</h3>
<p>Responsible for setting up a new wiki site:</p>
<ul>
<li>Creating directory structure</li>
<li>Copying template files</li>
<li>Generating initial configuration</li>
<li>Setting up themes</li>
</ul>
<h3>3. Build Module</h3>
<p>The core engine that transforms Markdown files into HTML:</p>
<ul>
<li>File collection and processing</li>
<li>Wiki link resolution</li>
<li>Template rendering</li>
<li>Static asset copying</li>
<li>Search index generation (optional)</li>
</ul>
<h3>4. Markdown Processor</h3>
<p>Handles parsing and transformation of Markdown content:</p>
<ul>
<li>Front matter extraction</li>
<li>Wiki link detection</li>
<li>Transclusion processing</li>
</ul>
<h3>5. Custom Renderer</h3>
<p>Extensions to the Mistletoe Markdown parser:</p>
<ul>
<li><code>MassiveWikiRenderer</code>: Custom renderer for wiki links</li>
<li>Link transformation</li>
<li>Image processing</li>
<li>Transclusion handling</li>
</ul>
<h3>6. Template Engine</h3>
<p>Uses Jinja2 to render HTML templates:</p>
<ul>
<li>Page templates</li>
<li>Layout components</li>
<li>Navigation elements</li>
</ul>
<h2>Directory Structure</h2>
<pre><code>nxc/
├── __init__.py
├── nxc.py                  # Main entry point
├── mistletoe_renderer/     # Custom Markdown renderer
│   ├── __init__.py
│   ├── massivewiki.py      # Wiki link processor
│   ├── render.py           # Rendering utilities
│   └── test.py             # Tests
└── templates/              # Default templates
    ├── Sidebar.md
    ├── gitignore-template.txt
    ├── netlify.toml
    ├── nxc-template.yaml
    ├── package.json
    ├── requirements.txt
    └── this-website-themes/
        └── dolce/          # Default theme
</code></pre>
<h2>Module Interactions</h2>
<pre><code class="language-mermaid">sequenceDiagram
    participant CLI as Command Line Interface
    participant Build as Build Module
    participant MD as Markdown Processor
    participant Render as MassiveWikiRenderer
    participant Template as Template Engine
    participant FS as File System

    CLI-&gt;&gt;Build: Invoke build with arguments
    Build-&gt;&gt;FS: Read configuration
    Build-&gt;&gt;FS: Collect input files
    loop For each Markdown file
        Build-&gt;&gt;MD: Process file
        MD-&gt;&gt;Render: Convert to HTML
        Render--&gt;&gt;MD: Return HTML
        MD-&gt;&gt;Template: Provide content
        Template-&gt;&gt;FS: Write HTML file
    end
    Build-&gt;&gt;FS: Copy static assets
    Build-&gt;&gt;FS: Generate index files
</code></pre>
<h2>Extension Points</h2>
<p>NXC is designed with several extension points:</p>
<ol>
<li><strong>Templates</strong>: Custom themes can be created by providing alternative templates</li>
<li><strong>Renderers</strong>: The custom renderer can be extended for additional markdown features</li>
<li><strong>Configuration</strong>: The YAML configuration allows customization of site behavior</li>
</ol>
<h2>Dependency Architecture</h2>
<pre><code class="language-mermaid">graph TD
    A[nxc] --&gt; B[mistletoe]
    A --&gt; C[Jinja2]
    A --&gt; D[pyyaml]
    A --&gt; E[python-dateutil]
    F[Lunr] -.-&gt; A
    G[Node.js] -.-&gt; F
    
    classDef optional fill:#f9f,stroke:#333,stroke-dasharray: 5 5;
    class F,G optional
</code></pre>
<p>Core Python dependencies:</p>
<ul>
<li>mistletoe: Markdown parsing</li>
<li>Jinja2: HTML templating</li>
<li>pyyaml: Configuration parsing</li>
<li>python-dateutil: Date handling</li>
</ul>
<p>Optional dependencies:</p>
<ul>
<li>Node.js and Lunr: Full-text search functionality</li>
</ul>

      
    </div>
  </div>
  <footer class="footer">
  <div class="content has-text-centered">
    <div><strong>Developer Wiki (Massive Wiki)</strong> by the Massive Wiki Team.</div>
    <div>Central repository at <a href="https://github.com/Massive-Wiki/developer-massive-wiki">developer-massive-wiki</a>.</div>
    <div>Licensed under <a href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</div>
    <div><em>Site last updated on Sunday, August 10, 2025 at 21:00 UTC.</em></div>
  </div>
</footer>
  <script src="/developer-massive-wiki/mwb-static/js/script.js"></script>
</body>
</html>