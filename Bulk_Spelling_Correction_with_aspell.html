<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bulk Spelling Correction with aspell - Developer Wiki (Massive Wiki)</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/developer-massive-wiki/mwb-static/css/alt-style.css">
    <link rel="stylesheet" href="/developer-massive-wiki/mwb-static/css/custom.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.9/lunr.min.js"></script>
    <script src="/developer-massive-wiki/lunr-index-1729367150.04187.js"></script>
    <script>var index = lunr.Index.load(lunr_index)</script>
    
    
    <script src="/developer-massive-wiki/lunr-posts-1729367150.04187.js"></script>
    
  </head>
<body>
  <div id="header">
    <span id="hamburger-btn"
    class="hidden">&#9776;</span><a class="button is-light" id="header-link" href="/developer-massive-wiki/index.html">Developer Wiki (Massive Wiki)</a>
  </div>

  <div class="container" id="flex-container">
    <div id="side-column">
      <div>
        <button id="hide-btn">Hide</button>
        <button id="move-btn" class="hidden">Move to Sidebar</button>
      </div>
      <p>(we are switching to a new theme,<br />
don't worry if things look different for a while!)</p>
<h2>Site Navigation</h2>
<div class="navlinks">
<ul>
<li><a class="wikilink" href="/developer-massive-wiki/README.html">HOME</a></li>
<li><a href="/developer-massive-wiki/search.html">SEARCH</a></li>
<li><a href="/developer-massive-wiki/all-pages.html">ALL PAGES</a></li>
<li><a href="/developer-massive-wiki/recent-pages.html">RECENT CHANGES</a></li>
</ul>
</div>
<div class="navlinks">
  <a onclick="location.href=lunr_posts[Math.floor(Math.random() * lunr_posts.length)].link">
    RANDOM PAGE
  </a>
</div>
<h2>Plans</h2>
<p><a class="wikilink" href="/developer-massive-wiki/Massive_Wiki_Roadmap.html">Massive Wiki Roadmap</a><br />
<a class="wikilink" href="/developer-massive-wiki/Pier2Pier.html">Pier2Pier</a><br />
<a class="wikilink" href="/developer-massive-wiki/Massive_Wiki_Builder_redesign_notes_and_plans.html">Massive Wiki Builder redesign</a></p>
<h2>For Testing</h2>
<p><a class="wikilink" href="/developer-massive-wiki/Link_workbench/testdir/wiki_link_test_page.html">wiki link test page</a><br />
<a class="wikilink" href="/developer-massive-wiki/Mistletoe_parser_test_page.html">Mistletoe parser test page</a><br />
<a class="wikilink" href="/developer-massive-wiki/MWB_upgrade_notes/Mistletoe_&_the_ampersand_story.html">Mistletoe & the ampersand story</a></p>

    </div>

    <div id="main-column">
      
      <div> <!-- edit this page button -->
	<p style="float:right; margin:.5em .5em
	.5em"><a target="_blank" href="https://github.com/Massive-Wiki/developer-massive-wiki/edit/main/Bulk Spelling Correction with aspell.md"
	class="edit-this-page-button">Edit on GitHub</a></p>
	<br clear="all">
      </div> <!-- edit this page button -->
      
      <h1>Bulk Spelling Correction with aspell</h1>
<p><em>copied from <a href="https://lionsberg.wiki/lionsberg_wiki_blogs/pete%27s_journal/massive_spell_check">https://lionsberg.wiki/lionsberg_wiki_blogs/pete's_journal/massive_spell_check</a></em></p>
<p>by <a class="wikilink" href="/developer-massive-wiki/conversationsWiki/People/Peter_Kaminski.html">Peter Kaminski</a>, 2022-07-26</p>
<p>In a bit of productive procrastination, I experimented with some bulk spell correction.</p>
<p>Today, I tried using <code>aspell</code> and some not-really-automation to fix about 30 typos in as many files.  (On a Mac, <code>aspell</code> can be installed with Homebrew.)</p>
<p>I hope this helps prototype something that might ultimately be packaged more nicely and productively.</p>
<h2>Methodology</h2>
<p>First, grab all the potential misspellings with <code>aspell</code>:</p>
<pre><code class="language-shell">(find . -name '*.md' -exec cat "{}" \;) | aspell list | sort -dfu &gt;/tmp/tmp.txt
</code></pre>
<p>Second, create a "fix" file, with a typo and then the corrected word, per line.  I only did the "A" words, and only words that seemed like they would surely want to be fixed, nothing that needed further manual inspection.</p>
<p>After trying a couple of things, what I did was to use Emacs to create two words per line (both were the original word), then loaded the file in TextEdit, where it was easier (not quite easy) to correct the right-hand word.  Interestingly, some of the typo'ed words did not get flagged by the Mac spell correction.</p>
<p>This part was a little manually intensive, but I'm not sure of a great way around it.  (Also to note, <code>aspell</code> is usually use in interactive mode, one file at a time.  That would have been another way to do it, but not automated enough for my taste.)</p>
<p>Here's the result:</p>
<pre><code>aboslute absolute
abraction abstraction
abstarction abstraction
abudnance abundance
abyssmal abysmal
accomodate accommodate
accompish accomplish
Acquition Acquisition
Actioin Action
activites activities
adapated adapted
addresing addressing
adminsitering administering
Adminsitration Administration
Adminsitrative Administrative
advanding advancing
aggree agree
Agrement Agreement
alignement alignment
appartent apparent
apporach approach
approachs approaches
architypical archetypical
ariticulated articulated
artciulate articulate
assigments assignments
assoiated associated
attemtping attempting
Attendence Attendance
audaceous audacious
autonmous autonomous
autonomouosly autonomously
avaiable available
</code></pre>
<p>I then transformed the text file into the following shell script. We could write something that handles this much better, but as a hack:</p>
<pre><code class="language-shell">find . -name '*.md' -exec perl -p -i -e 's/aboslute/absolute/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/abraction/abstraction/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/abstarction/abstraction/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/abudnance/abundance/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/abyssmal/abysmal/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/accomodate/accommodate/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/accompish/accomplish/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/Acquition/Acquisition/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/Actioin/Action/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/activites/activities/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/adapated/adapted/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/addresing/addressing/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/adminsitering/administering/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/Adminsitration/Administration/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/Adminsitrative/Administrative/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/advanding/advancing/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/aggree/agree/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/Agrement/Agreement/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/alignement/alignment/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/appartent/apparent/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/apporach/approach/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/approachs/approaches/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/architypical/archetypical/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/ariticulated/articulated/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/artciulate/articulate/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/assigments/assignments/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/assoiated/associated/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/attemtping/attempting/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/Attendence/Attendance/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/audaceous/audacious/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/autonmous/autonomous/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/autonomouosly/autonomously/g' "{}" \;
find . -name '*.md' -exec perl -p -i -e 's/avaiable/available/g' "{}" \;
</code></pre>
<p>You might observe that this is massively inefficient, and indeed, even on my MacBook M1, it took forever to run, and I'm sure several of the internal hamsters-on-wheels went to a better place before it was finished.  Anywho...</p>
<p>After skimming through the changes with <code>git diff</code>, it all looked good.  I noted the Perl one-liner had the effect of removing whitespace at the end of lines; I think that was okay, so I didn't do anything to handle that.</p>
<p>Here is the resulting commit: <a href="https://github.com/Lionsberg/lionsberg-wiki/commit/795c0484f441791dd73b7647b9b41a9de01922dd">semi-automated spelling correction experiment</a>.</p>
<h3>Conclusion</h3>
<p>I believe we can adapt the work above to create a workflow that helps automate some of the work of spelling correction, perhaps as an Obsidian plugin, perhaps as a Python script, etc.</p>
<p>Questions/observations:</p>
<ul>
<li>would it make sense to keep and update a script such as the above (with fairly unambiguous corrections), and run it regularly?  or regenerate it one-off once in a while?</li>
<li>somewhere, we have some <span class="incipient-wikilink">lorem ipsum</span> in the pages, which generated noise as I was trying to find which words to correct.</li>
<li>it would be nice to generate a whitelist dictionary, of known good words, e.g., "Netlify".</li>
</ul>

      
    </div>
  </div>
  <footer class="footer">
  <div class="content has-text-centered">
    <div><strong>Developer Wiki (Massive Wiki)</strong> by the Massive Wiki Team.</div>
    <div>Central repository at <a href="https://github.com/Massive-Wiki/developer-massive-wiki">developer-massive-wiki</a>.</div>
    <div>Licensed under <a href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</div>
    <div><em>Site last updated on Saturday, October 19, 2024 at 19:45 UTC.</em></div>
  </div>
</footer>
  <script src="/developer-massive-wiki/mwb-static/js/script.js"></script>
</body>
</html>