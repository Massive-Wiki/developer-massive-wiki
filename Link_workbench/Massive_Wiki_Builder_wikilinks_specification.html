<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Massive Wiki Builder wikilinks specification - Developer Wiki (Massive Wiki)</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/developer-massive-wiki/mwb-static/css/alt-style.css">
    <link rel="stylesheet" href="/developer-massive-wiki/mwb-static/css/custom.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.9/lunr.min.js"></script>
    <script src="/developer-massive-wiki/lunr-index-1729785065.081775.js"></script>
    <script>var index = lunr.Index.load(lunr_index)</script>
    
    
    <script src="/developer-massive-wiki/lunr-posts-1729785065.081775.js"></script>
    <script> function randomPageLink() { return "/developer-massive-wiki"+lunr_posts[Math.floor(Math.random() * lunr_posts.length)].link; } </script>
    
  </head>
<body>
  <div id="header">
    <span id="hamburger-btn"
    class="hidden">&#9776;</span><a class="button is-light" id="header-link" href="/developer-massive-wiki/index.html">Developer Wiki (Massive Wiki)</a>
  </div>

  <div class="container" id="flex-container">
    <div id="side-column">
      <div>
        <button id="hide-btn">Hide</button>
        <button id="move-btn" class="hidden">Move to Sidebar</button>
      </div>
      &lt;p&gt;(we are switching to a new theme,&lt;br /&gt;
don&#39;t worry if things look different for a while!)&lt;/p&gt;
&lt;h2&gt;Site Navigation&lt;/h2&gt;
&lt;div class=&#34;navlinks&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;wikilink&#34; href=&#34;/developer-massive-wiki/README.html&#34;&gt;HOME&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/developer-massive-wiki/search.html&#34;&gt;SEARCH&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/developer-massive-wiki/all-pages.html&#34;&gt;ALL PAGES&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/developer-massive-wiki/recent-pages.html&#34;&gt;RECENT CHANGES&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&#34;navlinks&#34;&gt;
  &lt;button onclick=&#34;location.href=`${randomPageLink()}`&#34;&gt;
    RANDOM PAGE
  &lt;/button&gt;
&lt;/div&gt;
&lt;h2&gt;Plans&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;wikilink&#34; href=&#34;/developer-massive-wiki/Massive_Wiki_Roadmap.html&#34;&gt;Massive Wiki Roadmap&lt;/a&gt;&lt;br /&gt;
&lt;a class=&#34;wikilink&#34; href=&#34;/developer-massive-wiki/Pier2Pier.html&#34;&gt;Pier2Pier&lt;/a&gt;&lt;br /&gt;
&lt;a class=&#34;wikilink&#34; href=&#34;/developer-massive-wiki/Massive_Wiki_Builder_redesign_notes_and_plans.html&#34;&gt;Massive Wiki Builder redesign&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;For Testing&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;wikilink&#34; href=&#34;/developer-massive-wiki/Link_workbench/testdir/wiki_link_test_page.html&#34;&gt;wiki link test page&lt;/a&gt;&lt;br /&gt;
&lt;a class=&#34;wikilink&#34; href=&#34;/developer-massive-wiki/Mistletoe_parser_test_page.html&#34;&gt;Mistletoe parser test page&lt;/a&gt;&lt;br /&gt;
&lt;a class=&#34;wikilink&#34; href=&#34;/developer-massive-wiki/MWB_upgrade_notes/Mistletoe_&amp;_the_ampersand_story.html&#34;&gt;Mistletoe &amp; the ampersand story&lt;/a&gt;&lt;/p&gt;

    </div>

    <div id="main-column">
      
      <div> <!-- edit this page button -->
	<p style="float:right; margin:.5em .5em
	.5em"><a target="_blank" href="https://github.com/Massive-Wiki/developer-massive-wiki/edit/main/Link workbench/Massive Wiki Builder wikilinks specification.md"
	class="edit-this-page-button">Edit on GitHub</a></p>
	<br clear="all">
      </div> <!-- edit this page button -->
      
      &lt;h1&gt;MWB wikilinks specification?&lt;/h1&gt;
&lt;p&gt;see more about wiki links, filenames, and URLs at &lt;a class=&#34;wikilink&#34; href=&#34;/developer-massive-wiki/Link_workbench/Link_workbench.html&#34;&gt;Link workbench&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;(question mark missing from filename because Netlify doesn&#39;t like &lt;code&gt;?&lt;/code&gt; or &lt;code&gt;#&lt;/code&gt; in deployed filenames.)&lt;/p&gt;
&lt;p&gt;(Or something like a specification? use RFC template?)&lt;/p&gt;
&lt;p&gt;/ outline the syntax //
/ do not assume scheme when encountering &#39;:&#39; (Obsidian does not allow &#39;:&#39; in file names, so such links cannot create wiki pages) //
/ generate full path links from root of the wiki //
/ do not change case on the text in the link //&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;
for each line
  find wikilink string
  (e.g., with this re: wikilink_pattern=&#34;\[\[(.*?)\]\]&#34;)

search wikifiles dictionary
  if found replace string with wikilink full pathname


&lt;/code&gt;&lt;/pre&gt;
&lt;h4&gt;2022-05-12&lt;/h4&gt;
&lt;p&gt;wikilink edge cases (from Pete)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;-   [[wiki page]]
-   [[Wiki Page]]
-   [[wikI pagE]]
-   [[WikiPage]]
-   [[../wiki page]]
-   [[../../wiki page]]
-   [[../subdir/wiki page]]
-   [[/wiki page]]
-   [[/subdir/wiki page]]
-   [[/subdir/../subdir2/../wiki page]]
-   [[wiki page.md]]
-   [[wiki page.jpg]]
-   [[wiki page.jpeg]]
-   [[wiki page.bmp]]
-   [[wiki page/]]
-   [[wiki page.exe]]
-   [[wiki page.txt]]
-   [[Page: Wiki]]
-   [[Punctuation Is !@#$%^&amp;amp;*()_+-={}[]|\:&#34;;&#39;&amp;lt;&amp;gt;,.?/~` Fun]]

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;build first tests for a small set of ordinary cases that&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;do not have identical wiki page basenames in links to different pages&lt;/li&gt;
&lt;li&gt;can have &#34;/&#34; in the links&lt;/li&gt;
&lt;li&gt;have case-sensitive basenames&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;-   [[wiki page1]]
-   [[../wiki page2]]
-   [[../../wiki page3]]
-   [[../subdir/wiki page4]]
-   [[/wiki page5]]
-   [[/subdir/wiki page6]]
-   [[/subdir/../subdir2/../wiki page7]]
-
&lt;/code&gt;&lt;/pre&gt;
&lt;h4&gt;2022-05-22&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;need to handle &#34;.txt&#34; files (also other media and document files) explicitly, perhaps the same way as image files; or&lt;/li&gt;
&lt;li&gt;perhaps build a way to create wikilinks for any file that is &lt;em&gt;not&lt;/em&gt; a Markdown files with &#34;.md&#34; extension?&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;2022-05-23&lt;/h3&gt;
&lt;p&gt;Pete&#39;s guess at workflow for wikilinks, including wikilinks with paths:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;walk the wiki, find all the filenames, lowercase the filename, and save the filepath to the file to a dictionary&lt;/li&gt;
&lt;li&gt;when processing each page and converting wikilinks to HTML links:
&lt;ul&gt;
&lt;li&gt;if a target string (starts with any &lt;code&gt;.&lt;/code&gt; or &lt;code&gt;/&lt;/code&gt; characters) or (includes a &lt;code&gt;/&lt;/code&gt;  character anywhere), just append &lt;code&gt;.html&lt;/code&gt; to the target to create the HTML link, and emit a diagnostic message that the link was not transformed in anyway, because it contained path-like characters (&lt;code&gt;./&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;otherwise, lowercase the target string, then use it as a key to look up the filepath in the dictionary. Append &lt;code&gt;.html&lt;/code&gt; to the filepath, and use that to create the HTML link&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Design principles:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;don&#39;t try to process path characters, because handling a complicated path is complicated (e.g., &lt;code&gt;foo/../../bar/../baz&lt;/code&gt;), and we don&#39;t (yet) want to promise users we will do it correctly.  instead, just pass along any target that looks like it is trying to include path characters (even if the path would be invalid).&lt;/li&gt;
&lt;li&gt;at least for now, minimize the code required to handle links, to make it easier to write and maintain.&lt;/li&gt;
&lt;li&gt;make links case-insensitive, by lowercasing wiki links and generated filenames.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Examples:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;foobar -&amp;gt; foobar.html&lt;/li&gt;
&lt;li&gt;FooBar -&amp;gt; foobar.html&lt;/li&gt;
&lt;li&gt;Foobar -&amp;gt; foobar.html&lt;/li&gt;
&lt;li&gt;foo bar -&amp;gt; foo bar.html&lt;/li&gt;
&lt;li&gt;foo/bar -&amp;gt; foo/bar.html&lt;/li&gt;
&lt;li&gt;./foobar -&amp;gt; ./foobar.html&lt;/li&gt;
&lt;li&gt;.foobar -&amp;gt; .foobar.html (may not work properly, as designed)&lt;/li&gt;
&lt;li&gt;foobar/ -&amp;gt; foobar/.html (may not work properly, as designed)&lt;/li&gt;
&lt;li&gt;/foo/bar/baz -&amp;gt; /foo/bar/baz.html&lt;/li&gt;
&lt;/ul&gt;

      
      <hr>
      <div>
	<h4>Pages that link to this page</h4>
	<ul>
	  
	  <li><a href="/developer-massive-wiki/Link_workbench/Link_workbench.html">Link workbench</a>
	  
	</ul>
      </div>
      
    </div>
  </div>
  <footer class="footer">
  <div class="content has-text-centered">
    <div><strong>Developer Wiki (Massive Wiki)</strong> by the Massive Wiki Team.</div>
    <div>Central repository at &lt;a href=&#34;https://github.com/Massive-Wiki/developer-massive-wiki&#34;&gt;developer-massive-wiki&lt;/a&gt;.</div>
    <div>Licensed under &lt;a href=&#34;http://creativecommons.org/licenses/by/4.0/&#34;&gt;Creative Commons Attribution 4.0 International License&lt;/a&gt;.</div>
    <div><em>Site last updated on Thursday, October 24, 2024 at 15:51 UTC.</em></div>
  </div>
</footer>
  <script src="/developer-massive-wiki/mwb-static/js/script.js"></script>
</body>
</html>